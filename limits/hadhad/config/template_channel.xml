<!DOCTYPE Channel SYSTEM 'HistFactorySchema.dtd'>

<Channel Name="hh_%(category)s_%(mass)d" >
    
    <!--<Data HistoName="Data_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root" />-->
    
    <StatErrorConfig RelErrorThreshold="0.05" ConstraintType="Poisson"/>

    <Sample Name="Signal_gg_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="Signal_gg_%(mass)d"
        NormalizeByTheory="True" >
        <NormFactor Name="SigXsecOverSM" Val="0" Low="0." High="60."/>
        <StatError Activate="False" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="Signal_gg_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="Signal_gg_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="Signal_gg_%(mass)d_JER_UP"
            HistoNameLow="Signal_gg_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="Signal_gg_%(mass)d_FAKERATE_UP"
            HistoNameLow="Signal_gg_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="Signal_gg_%(mass)d_TRIGGER_UP"
            HistoNameLow="Signal_gg_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="Signal_gg_%(mass)d_TAUBDT_UP"
            HistoNameLow="Signal_gg_%(mass)d_TAUBDT_DOWN" />
        
        <OverallSys Name="pdf_gg" High="1.079" Low="0.923"/>
        <OverallSys Name="QCDscale_ggH1in" High="1.133" Low="0.914"/>
    </Sample>
    
    <Sample Name="Signal_VBF_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="Signal_VBF_%(mass)d"
        NormalizeByTheory="True" >
        <NormFactor Name="SigXsecOverSM" Val="0" Low="0." High="60."/>
        <StatError Activate="False" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="Signal_VBF_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="Signal_VBF_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="Signal_VBF_%(mass)d_JER_UP"
            HistoNameLow="Signal_VBF_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="Signal_VBF_%(mass)d_FAKERATE_UP"
            HistoNameLow="Signal_VBF_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="Signal_VBF_%(mass)d_TRIGGER_UP"
            HistoNameLow="Signal_VBF_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="Signal_VBF_%(mass)d_TAUBDT_UP"
            HistoNameLow="Signal_VBF_%(mass)d_TAUBDT_DOWN" />

        <OverallSys Name="pdf_qqbar" High="1.027" Low="0.979"/>
        <OverallSys Name="QCDscale_qqH" High="1.004" Low="0.996"/>
    </Sample>
    
    <Sample Name="Signal_Z_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="Signal_Z_%(mass)d"
        NormalizeByTheory="True" >
        <NormFactor Name="SigXsecOverSM" Val="0" Low="0." High="60."/>
        <StatError Activate="False" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="Signal_Z_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="Signal_Z_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="Signal_Z_%(mass)d_JER_UP"
            HistoNameLow="Signal_Z_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="Signal_Z_%(mass)d_FAKERATE_UP"
            HistoNameLow="Signal_Z_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="Signal_Z_%(mass)d_TRIGGER_UP"
            HistoNameLow="Signal_Z_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="Signal_Z_%(mass)d_TAUBDT_UP"
            HistoNameLow="Signal_Z_%(mass)d_TAUBDT_DOWN" />

        <OverallSys Name="pdf_qqbar" High="1.039" Low="0.961"/>
        <OverallSys Name="QCDscale_VH" High="1.007" Low="0.992"/>
    </Sample>
    
    <Sample Name="Signal_W_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="Signal_W_%(mass)d"
        NormalizeByTheory="True" >
        <NormFactor Name="SigXsecOverSM" Val="0" Low="0." High="60."/>
        <StatError Activate="False" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="Signal_W_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="Signal_W_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="Signal_W_%(mass)d_JER_UP"
            HistoNameLow="Signal_W_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="Signal_W_%(mass)d_FAKERATE_UP"
            HistoNameLow="Signal_W_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="Signal_W_%(mass)d_TRIGGER_UP"
            HistoNameLow="Signal_W_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="Signal_W_%(mass)d_TAUBDT_UP"
            HistoNameLow="Signal_W_%(mass)d_TAUBDT_DOWN" />

        <OverallSys Name="pdf_qqbar" High="1.039" Low="0.961"/>
        <OverallSys Name="QCDscale_VH" High="1.007" Low="0.992"/>
    </Sample>
    
    <Sample Name="Ztautau_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="Ztautau_%(mass)d"
        NormalizeByTheory="False" >
        <StatError Activate="True" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="Ztautau_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="Ztautau_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="Ztautau_%(mass)d_JER_UP"
            HistoNameLow="Ztautau_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="Ztautau_%(mass)d_FAKERATE_UP"
            HistoNameLow="Ztautau_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="Ztautau_%(mass)d_TRIGGER_UP"
            HistoNameLow="Ztautau_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="Ztautau_%(mass)d_TAUBDT_UP"
            HistoNameLow="Ztautau_%(mass)d_TAUBDT_DOWN" />
        <HistoSys Name="ZFIT"
            HistoNameHigh="Ztautau_%(mass)d_ZFIT_UP"
            HistoNameLow="Ztautau_%(mass)d_ZFIT_DOWN" />

        <!--<HistoSys Name="ISOL"
            HistoNameHigh="Ztautau_ISOL_UP"
            HistoNameLow="Ztautau_ISOL_DOWN" />
        <HistoSys Name="MFS"
            HistoNameHigh="Ztautau_MFS_UP"
            HistoNameLow="Ztautau_MFS_DOWN" />-->
    </Sample>

    <Sample Name="QCD_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="QCD_%(mass)d"
        NormalizeByTheory="False" >
        <StatError Activate="True" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="QCD_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="QCD_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="QCD_%(mass)d_JER_UP"
            HistoNameLow="QCD_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="QCD_%(mass)d_FAKERATE_UP"
            HistoNameLow="QCD_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="QCD_%(mass)d_TRIGGER_UP"
            HistoNameLow="QCD_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="QCD_%(mass)d_TAUBDT_UP"
            HistoNameLow="QCD_%(mass)d_TAUBDT_DOWN" />
        <HistoSys Name="QCDFIT"
            HistoNameHigh="QCD_%(mass)d_QCDFIT_UP"
            HistoNameLow="QCD_%(mass)d_QCDFIT_DOWN" />
    </Sample>

    <Sample Name="Others_%(mass)d"
        InputFile="./data/%(category)s_%(fitmethod)s.root"
        HistoName="Others_%(mass)d"
        NormalizeByTheory="True" >
        <StatError Activate="True" />
        <HistoSys Name="JES_TES"
            HistoNameHigh="Others_%(mass)d_JES_UP_TES_UP"
            HistoNameLow="Others_%(mass)d_JES_DOWN_TES_DOWN" />
        <HistoSys Name="JER"
            HistoNameHigh="Others_%(mass)d_JER_UP"
            HistoNameLow="Others_%(mass)d" />
        <HistoSys Name="FAKERATE"
            HistoNameHigh="Others_%(mass)d_FAKERATE_UP"
            HistoNameLow="Others_%(mass)d_FAKERATE_DOWN" />
        <HistoSys Name="TRIGGER"
            HistoNameHigh="Others_%(mass)d_TRIGGER_UP"
            HistoNameLow="Others_%(mass)d_TRIGGER_DOWN" />
        <HistoSys Name="TAUBDT"
            HistoNameHigh="Others_%(mass)d_TAUBDT_UP"
            HistoNameLow="Others_%(mass)d_TAUBDT_DOWN" />
    </Sample>
    
</Channel>
